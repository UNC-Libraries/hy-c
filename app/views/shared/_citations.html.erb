<!--[hyc-override] Updating meta tags for google scholar-->
<% content_for(:twitter_meta) do %>
  <meta name="twitter:card" content="product" />
  <meta name="twitter:site" content="<%= t('hyrax.product_twitter_handle') %>" />
  <meta name="twitter:creator" content="<%= @presenter.tweeter %>" />
  <meta property="og:site_name" content="<%= application_name %>" />
  <meta property="og:type" content="object" />
  <meta property="og:title" content="<%= @presenter.title.first %>" />
  <meta property="og:description" content="<%= @presenter.description.first.truncate(200) rescue @presenter.title.first %>" />
  <meta property="og:image" content="<%= @presenter.download_url %>" />
  <meta property="og:url" content="<%= polymorphic_url([main_app, @presenter]) %>" />
  <meta name="twitter:data1" content="<%= @presenter.keyword.join(', ') %>" />
  <meta name="twitter:label1" content="Keywords" />
  <meta name="twitter:data2" content="<%= @presenter.rights_statement.first %>" />
  <meta name="twitter:label2" content="Rights Statement" />
<% end %>

<% content_for(:gscholar_meta) do %>
  <meta name="citation_title" content="<%= Array.wrap(@presenter.title).first %>" />
  <% if !@presenter.creator_display.blank? %>
    <%# conditional can be removed once all people objects have indexes %>
    <% if @presenter.creator_display.first.match('index:') %>
      <% sort_people_by_index(@presenter.creator_display).each do |creator| %>
        <meta name="citation_author" content="<%= creator.split('||').second %>" />
      <% end %>
    <% else %>
      <% Array.wrap(@presenter.creator_display).each do |creator| %>
        <meta name="citation_author" content="<%= creator.split('||').first %>" />
      <% end %>
    <% end %>
  <% end %>
  <meta name="citation_publication_date" content="<%= Array.wrap(@presenter.date_issued).first %>" />
  <meta name="citation_pdf_url" content="<%= @presenter.download_url %>" />
  <% if @presenter.respond_to?(:journal_title) %>
  <meta name="citation_journal_title" content="<%= Array.wrap(@presenter.journal_title).first %>"/>
  <% end %>
  <% if @presenter.respond_to?(:journal_volume) %>
  <meta name="citation_volume" content="<%= Array.wrap(@presenter.journal_volume).first %>"/>
  <% end %>
  <% if @presenter.respond_to?(:journal_issue) %>
  <meta name="citation_issue" content="<%= Array.wrap(@presenter.journal_issue).first %>"/>
  <% end %>
  <% if @presenter.respond_to?(:page_start) %>
  <meta name="citation_firstpage" content="<%= Array.wrap(@presenter.page_start).first %>"/>
  <% end %>
  <% if @presenter.respond_to?(:page_end) %>
  <meta name="citation_lastpage" content="<%= Array.wrap(@presenter.page_end).first %>"/>
  <% end %>
<% end %>
