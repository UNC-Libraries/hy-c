<% date_value = params[:action] == 'new' ? Date.today.strftime("%Y-%m-%d") : Hyc::EdtfConvert.convert_from_edtf(f.object.date_issued) %>
<%# Adding "date-input" class sets field to a date field. See /app/inputs/multi_value_input.rb %>
<% use_date_field_class = params[:controller] == 'hyrax/generals' ? '' : 'date-input' %>
<% place_holder = params[:controller] == 'hyrax/generals' ? 'YYYY-MM-DD or YYYY or month YYYY, e.g. May 2007' : 'Date Format YYYY-MM-DD' %>

<% if f.object.multiple? key %>
  <%= f.input :date_issued, as: :multi_value, placeholder: place_holder,
              input_html: { class: use_date_field_class} %>
<% else %>
  <%= f.input :date_issued, placeholder: place_holder,
              input_html: { class: use_date_field_class, value: date_value } %>
<% end %>
